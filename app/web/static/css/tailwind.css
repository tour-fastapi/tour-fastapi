@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================
   THEME TOKENS (1 place)
   ========================= */
/* 1) Base theme tokens */
@layer base {
  :root {
    /* Brand (Primary Green – Trust-first) */
    --primary-h: 145;
    --primary-s: 62%;
    --primary-l: 34%; /* change to 40% to compare */

    /* Core colors */
    --bg: 220 18% 97%;
    --fg: 222 22% 12%;
    --muted: 215 12% 40%;
    --card: 0 0% 100%;
    --border: 220 13% 90%;

    /* Derived */
    --primary: var(--primary-h) var(--primary-s) var(--primary-l);
    --primary-fg: 0 0% 100%;
    --radius: 0.75rem;
    --surface: var(--card);
    --surface-2: 220 18% 96%;
  }

  /* Dark theme (token-only, no layout changes) */
  [data-theme="dark"] {
    --bg: 222 18% 10%;
    --fg: 220 18% 95%;
    --muted: 220 10% 70%;
    --card: 222 16% 14%;
    --border: 220 12% 22%;

    /* brighter green for dark */
    --primary-l: 45%;
    --surface: var(--card);
    --surface-2: 222 16% 18%;
  }

  body {
    background-color: hsl(var(--bg));
    color: hsl(var(--fg));
    font-family: Inter, system-ui, -apple-system, BlinkMacSystemFont,
      "Segoe UI", Roboto, Arial, sans-serif;
  }
}

/* =========================
   SEMANTIC COMPONENT CLASSES
   (use these in templates)
   ========================= */
@layer components {

  /* ======================================================
     1. Layout & Page Shell
     ====================================================== */

  /* Layout */
  .page {
    @apply mx-auto w-full max-w-6xl px-4 py-6;
  }

  .page {
    @apply max-w-3xl mx-auto px-4 py-6;
  }

  .page-header {
    @apply mb-6;
  }

  .page-back {
    @apply inline-block text-sm text-[hsl(var(--muted))]
           mb-2 hover:text-[hsl(var(--primary))];
  }

  .page-title-wrap {
    @apply flex items-center justify-between gap-4;
  }

  .page-title {
    @apply text-2xl font-semibold tracking-tight;
  }
  .page-subtitle{
    @apply text-sm;
    color: hsl(var(--muted));
  }
  .page-count {
    @apply text-xs font-medium px-3 py-1 rounded-full
           bg-[hsl(var(--primary))] text-white;
  }

  /* ======================================================
     2. Grouping (city sections)
     ====================================================== */

     .group {
    @apply mb-10;
  }

  .group-header {
    @apply flex items-center justify-between mb-4;
  }

  .group-title {
    @apply text-xl font-semibold;
    
    color: hsl(var(--fg));

  }
  .group-count{
    @apply text-xs font-medium px-3 py-1 rounded-full;
    background: hsl(var(--surface-2));
    color: hsl(var(--muted));
    border: 1px solid hsl(var(--border));
  }

  .group-meta {
    @apply text-sm;
    color: hsl(var(--muted));
  }

  /* ======================================================
   Shared Entity Card (base for public listings)
   ====================================================== */
.entity-card {
  @apply border rounded-2xl transition;
  background: hsl(var(--surface));
  border-color: hsl(var(--border));
}

.entity-card:hover {
  box-shadow: 0 4px 12px rgba(0,0,0,0.06);
}

.entity-card:focus-visible {
  outline: 2px solid hsl(var(--primary));
  outline-offset: 3px;
}


  /* ======================================================
     3. Operator-specific components
     ====================================================== */

     .operator-list {
    @apply space-y-4;
  }

  .operator-card {
    @apply entity-card grid gap-4 p-4 md:p-5;
    grid-template-columns: 56px 1fr;
    align-items: start;
  }

 /* Operator avatar – logo OR initials (never both) */
.operator-avatar{
  @apply relative shrink-0 rounded-xl overflow-hidden;
  width: 56px;
  height: 56px;
  background: hsl(var(--surface-2));
  border: 1px solid hsl(var(--border));
}

/* Logo image */
.operator-avatar img{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
  background: hsl(var(--surface));
  padding: 6px;
  z-index: 2;
}

/* Initials fallback */
.operator-avatar .agency-badge-fallback{
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  font-weight: 700;
  font-size: 0.9rem;
  z-index: 1;

  background: hsl(var(--av-h) 70% 92%);
  color: hsl(var(--av-h) 45% 25%);
}
/* Color buckets driven by data-tone (0–11) */
.operator-avatar { --av-h: 145; } /* default fallback */

.operator-avatar[data-tone="0"]  { --av-h: 10; }
.operator-avatar[data-tone="1"]  { --av-h: 28; }
.operator-avatar[data-tone="2"]  { --av-h: 45; }
.operator-avatar[data-tone="3"]  { --av-h: 70; }
.operator-avatar[data-tone="4"]  { --av-h: 95; }
.operator-avatar[data-tone="5"]  { --av-h: 125; }
.operator-avatar[data-tone="6"]  { --av-h: 155; }
.operator-avatar[data-tone="7"]  { --av-h: 185; }
.operator-avatar[data-tone="8"]  { --av-h: 210; }
.operator-avatar[data-tone="9"]  { --av-h: 235; }
.operator-avatar[data-tone="10"] { --av-h: 265; }
.operator-avatar[data-tone="11"] { --av-h: 325; }




  .operator-body {
    @apply flex flex-col gap-1;
  }

  .operator-name {
    @apply text-base font-semibold leading-tight;
  }

  .operator-location {
    @apply text-sm text-[hsl(var(--muted))];
  }

  .operator-description {
    @apply text-sm text-[hsl(var(--fg))] line-clamp-2;
  }

  .operator-meta {
    @apply text-xs text-[hsl(var(--muted))] mt-1;
  }

  .empty-state {
    @apply text-center text-sm text-[hsl(var(--muted))] py-12;
  }

 

  .operator-card__media {
    @apply w-14 h-14;
  }

  /* This is the KEY: constrain the macro output */
  .operator-card__media .agency-badge,
  .operator-card__media img {
    @apply w-14 h-14;
  }

  .operator-card__media img {
    @apply object-contain;
  }

  .operator-card__title {
    @apply text-base md:text-lg font-semibold text-slate-900 leading-snug;
  }

  .operator-card__meta {
    @apply text-sm text-slate-600 mt-0.5;
  }

  .operator-card__desc {
    @apply text-sm text-slate-800 mt-2;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .operator-card__sub {
    @apply text-sm text-slate-700 mt-2;
  }



  /* ======================================================
     4. Operator Meta (decision + trust)
     ====================================================== */

  
.operator-meta-primary{
  @apply flex flex-wrap items-center gap-2 mt-2 text-sm;
  color: hsl(var(--fg));
}

.operator-meta-muted{
  color: hsl(var(--muted));
}

.meta-item{
  @apply inline-flex items-center gap-1;
}

.meta-icon{
  font-size: 0.9rem;
  line-height: 1;
}

.meta-sep{
  margin: 0 0.25rem;
  color: hsl(var(--muted));
}

/* Meta – secondary (trust signals) */
.operator-meta-secondary{
  @apply flex flex-wrap items-center gap-2 mt-1 text-xs;
  color: hsl(var(--muted));
}

/* ======================================================
   Packages components (public)
   ====================================================== */

.package-list{
  @apply space-y-4;
}

.package-card{
  @apply grid gap-4 p-4 md:p-5;
  grid-template-columns: 56px 1fr;
  align-items: start;
}

.package-media{
  @apply shrink-0 rounded-xl;
  width: 56px;
  height: 56px;
  background: hsl(var(--surface-2));
  border: 1px solid hsl(var(--border));
}
/* Package avatar (reuse operator avatar styles) */
.package-avatar{
  @apply shrink-0;
}
.package-body{
  @apply flex flex-col gap-1 min-w-0;
}

.package-name{
  @apply text-base font-semibold leading-tight;
}

.package-location{
  @apply text-sm;
  color: hsl(var(--muted));
}

.package-meta{
  @apply flex flex-wrap gap-2 mt-1;
}

.meta-chip{
  @apply text-xs px-2 py-1 rounded-full border;
  background: hsl(var(--surface-2));
  border-color: hsl(var(--border));
  color: hsl(var(--muted));
}

.package-description{
  @apply text-sm mt-1;
  color: hsl(var(--fg));
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
  

  /* Surfaces */
  .card {
    @apply rounded-2xl border shadow-sm;
    background: hsl(var(--surface));
    border-color: hsl(var(--border));
  }
  .card-header { @apply px-4 py-3 border-b; border-color: hsl(var(--border)); }
  .card-body { @apply px-4 py-4; }

  
  /* ======================================================
     6. Generic UI (buttons, inputs, tables)
     ====================================================== */
/* Typography */
  .h1 { @apply text-2xl font-semibold tracking-tight; }
  .h2 { @apply text-xl font-semibold tracking-tight; }
  .subtle { color: hsl(var(--muted)); }
  
  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition;
  }
  .btn-primary {
    @apply btn shadow-sm hover:opacity-95 active:opacity-90;
    background: hsl(var(--border));
    color: rgb(var(--primary-fg));
  }
  .btn-outline {
    @apply btn border hover:bg-black/5 active:bg-black/10;
    border-color: hsl(var(--border));
  }
  .btn-ghost {
    @apply btn hover:bg-black/5 active:bg-black/10;
  }

  /* Inputs */
  .input {
    @apply w-full rounded-lg border px-3 py-2 text-sm outline-none transition;
    background: hsl(var(--border));
    border-color: hsl(var(--border));
  }
  .input:focus {
    border-color: hsl(var(--primary));
  box-shadow: 0 0 0 3px hsl(var(--primary) / 0.18);
  }

  /* Tables (nice default) */
  .table {
    @apply w-full text-sm;
  }
  .table th {
    @apply text-left font-medium px-4 py-2 border-b;
    border-color: hsl(var(--border));
    color: hsl(var(--muted));
  }
  .table td {
    @apply px-4 py-3 border-b align-middle;
    border-color: hsl(var(--border));
  }

  .t-btn-primary {
    background: hsl(var(--border));
    color: rgb(var(--primary-fg));
    padding: 10px 14px;
    border-radius: 12px;
    font-weight: 600;
  }



  

  

  
}

@layer utilities {
  .is-hidden {
    display: none !important;
  }
}
